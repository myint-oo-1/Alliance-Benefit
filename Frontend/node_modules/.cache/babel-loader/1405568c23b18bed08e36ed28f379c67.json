{"ast":null,"code":"var _jsxFileName = \"/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Benefits/ExternalTraining/BenefitExternalTrainingTable.jsx\";\nimport React, { Component } from 'react';\nimport 'datatables.net-bs4/css/dataTables.bootstrap4.min.css';\nimport 'datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css';\nimport 'datatables.net-dt/css/jquery.dataTables.css';\nimport 'datatables.net-buttons-dt/css/buttons.dataTables.css';\n\nconst $ = require('jquery');\n\nconst jzip = require('jzip');\n\nwindow.JSZip = jzip;\n$.DataTable = require('datatables.net-bs4');\n$.DataTable = require('datatables.net-responsive-bs4');\n$.DataTable = require('datatables.net');\n\nrequire('datatables.net-buttons/js/dataTables.buttons.min');\n\nrequire('datatables.net-buttons/js/buttons.html5.min');\n\nexport default class BenefitChildTable extends Component {\n  constructor(props) {\n    super(props);\n\n    this._setTableData = data => {\n      var table;\n\n      if ($.fn.dataTable.isDataTable('#dataTables-table')) {\n        table = $('#dataTables-table').dataTable();\n        table.fnClearTable();\n        table.fnDestroy();\n        $('#dataTables-table').empty();\n        var l = [];\n        var status;\n\n        for (var i = 0; i < data.length; i++) {\n          let result = data[i];\n          let obj = [];\n\n          if (result.status === 0) {\n            status = '<small class=\"label label-warning\" style=\"background-color:#509aed\"> Request </small>';\n          } else if (result.status === 1) {\n            status = '<small class=\"label label-warning\" style=\"background-color:#b33ce0\"> Check By </small>';\n          } else if (result.status === 2) {\n            status = '<small class=\"label label-warning\" style=\"background-color:#f2a509\"> Approve By </small>';\n          } else if (result.status === 3) {\n            status = '<small class=\"label label-warning\" style=\"background-color:#29a50a\"> Verify By </small>';\n          } else if (result.status === 4) {\n            status = '<small class=\"label label-warning\" style=\"background-color:#f60e2f\"> Reject By </small>';\n          }\n\n          if (result.status === 0 || result.status === 4) {\n            obj = {\n              no: i + 1,\n              form_no: data[i].form_no,\n              employee_name: data[i].employee_name,\n              training_type: data[i].training_type,\n              available_amount: data[i].available_amount,\n              date_of_training: data[i].date_of_training,\n              training_period: data[i].training_period,\n              amount: data[i].amount,\n              training_purpose: data[i].training_purpose,\n              attachment: data[i].attachment,\n              status: status,\n              action: '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toView\" ><span id=\"view\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;View</button>' + '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toEdit\" ><span id=\"edit\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Edit</button>'\n            };\n          } else {\n            obj = {\n              no: i + 1,\n              form_no: data[i].form_no,\n              employee_name: data[i].employee_name,\n              training_type: data[i].training_type,\n              available_amount: data[i].available_amount,\n              date_of_training: data[i].date_of_training,\n              training_period: data[i].training_period,\n              amount: data[i].amount,\n              training_purpose: data[i].training_purpose,\n              attachment: data[i].attachment,\n              status: status,\n              action: '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toView\" ><span id=\"view\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;View</button>'\n            };\n          }\n\n          l.push(obj);\n        }\n\n        this.setState({\n          dataSource: l\n        });\n        table = $(\"#dataTables-table\").DataTable({\n          autofill: true,\n          bLengthChange: false,\n          bInfo: false,\n          responsive: true,\n          paging: true,\n          // buttons: true,\n          dom: 'Bfrtip',\n          buttons: ['copy', 'csv', 'excel', 'pdf'],\n          data: l,\n          columns: [{\n            title: \"No\",\n            data: \"no\"\n          }, {\n            title: \"Employee Name\",\n            data: \"employeeName\"\n          }, {\n            title: \"Training Type\",\n            data: \"training_type\"\n          }, {\n            title: \"Available Amount\",\n            data: \"available_amount\"\n          }, {\n            title: \"Date of Training\",\n            data: \"date_of_training\"\n          }, {\n            title: \"Training Period\",\n            data: \"training_period\"\n          }, {\n            title: \"Amount\",\n            data: \"amount\"\n          }, {\n            title: \"Training Purpose\",\n            data: \"training_purpose\"\n          }, {\n            title: \"Attachment\",\n            data: \"attachment\"\n          }, {\n            title: \"Status\",\n            data: \"status\"\n          }, {\n            title: \"Action\",\n            data: \"action\"\n          }]\n        });\n      } else {\n        table = $(\"#dataTables-table\").DataTable({\n          autofill: true,\n          bLengthChange: false,\n          bInfo: true,\n          responsive: true,\n          paging: true,\n          dom: 'Bfrtip',\n          buttons: ['copy', 'csv', 'excel', 'pdf'],\n          data: l,\n          columns: [{\n            title: \"Employee Name\",\n            data: \"employeeName\"\n          }, {\n            title: \"Training Type\",\n            data: \"training_type\"\n          }, {\n            title: \"Available Amount\",\n            data: \"available_amount\"\n          }, {\n            title: \"Date of Training\",\n            data: \"date_of_training\"\n          }, {\n            title: \"Training Period\",\n            data: \"training_period\"\n          }, {\n            title: \"Amount\",\n            data: \"amount\"\n          }, {\n            title: \"Training Purpose\",\n            data: \"training_purpose\"\n          }, {\n            title: \"Attachment\",\n            data: \"attachment\"\n          }, {\n            title: \"Status\",\n            data: \"status\"\n          }, {\n            title: \"Action\",\n            data: \"action\"\n          }]\n        });\n      }\n    };\n\n    this.state = {\n      dataSource: props.data,\n      selectedRequest: ''\n    };\n  }\n\n  componentDidMount() {\n    this.$el = $(this.el);\n    this.setState({\n      dataSource: this.props.data\n    }, () => {\n      this._setTableData(this.state.dataSource);\n    });\n    let that = this;\n    $(\"#dataTables-table\").on('click', '#toView', function () {\n      var data = $(this).find(\"#view\").text();\n      data = $.parseJSON(data);\n      that.props.goToViewForm(data);\n    });\n    $(\"#dataTables-table\").on('click', '#toEdit', function () {\n      var data = $(this).find(\"#edit\").text();\n      data = $.parseJSON(data);\n      that.props.goToEditForm(data);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      this.setState({\n        dataSource: this.props.data\n      }, () => {\n        this._setTableData(this.state.dataSource);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Wedding Benefit Table\"), React.createElement(\"table\", {\n      width: \"99%\",\n      className: \"table table-striped table-bordered table-hover table-responsive nowrap dt-responsive\",\n      id: \"dataTables-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Benefits/ExternalTraining/BenefitExternalTrainingTable.jsx"],"names":["React","Component","$","require","jzip","window","JSZip","DataTable","BenefitChildTable","constructor","props","_setTableData","data","table","fn","dataTable","isDataTable","fnClearTable","fnDestroy","empty","l","status","i","length","result","obj","no","form_no","employee_name","training_type","available_amount","date_of_training","training_period","amount","training_purpose","attachment","action","JSON","stringify","push","setState","dataSource","autofill","bLengthChange","bInfo","responsive","paging","dom","buttons","columns","title","state","selectedRequest","componentDidMount","$el","el","that","on","find","text","parseJSON","goToViewForm","goToEditForm","componentDidUpdate","prevProps","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'datatables.net-bs4/css/dataTables.bootstrap4.min.css';\nimport 'datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css';\nimport 'datatables.net-dt/css/jquery.dataTables.css'\nimport 'datatables.net-buttons-dt/css/buttons.dataTables.css';\n\nconst $ = require('jquery');\nconst jzip = require('jzip');\nwindow.JSZip = jzip;\n$.DataTable = require('datatables.net-bs4');\n$.DataTable = require('datatables.net-responsive-bs4');\n\n$.DataTable = require('datatables.net');\nrequire('datatables.net-buttons/js/dataTables.buttons.min');\nrequire('datatables.net-buttons/js/buttons.html5.min');\n\n\nexport default class BenefitChildTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataSource: props.data,\n            selectedRequest: '',\n        }\n    }\n    componentDidMount() {\n        this.$el = $(this.el);\n\n        this.setState({\n            dataSource: this.props.data\n        }, () => {\n            this._setTableData(this.state.dataSource)\n        });\n\n        let that = this;\n        $(\"#dataTables-table\").on('click', '#toView', function () {\n\n            var data = $(this).find(\"#view\").text();\n            data = $.parseJSON(data);\n            that.props.goToViewForm(data);\n\n        });\n\n        $(\"#dataTables-table\").on('click', '#toEdit', function () {\n\n            var data = $(this).find(\"#edit\").text();\n            data = $.parseJSON(data);\n            that.props.goToEditForm(data);\n\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.data !== this.props.data) {\n            this.setState({\n                dataSource: this.props.data\n            }, () => {\n                this._setTableData(this.state.dataSource);\n\n            })\n        }\n    }\n\n\n    _setTableData = (data) => {\n\n        var table;\n        if ($.fn.dataTable.isDataTable('#dataTables-table')) {\n            table = $('#dataTables-table').dataTable();\n            table.fnClearTable();\n            table.fnDestroy();\n            $('#dataTables-table').empty();\n            var l = [];\n            var status;\n            for (var i = 0; i < data.length; i++) {\n                let result = data[i];\n                let obj = [];\n                if (result.status === 0) {\n                    status = '<small class=\"label label-warning\" style=\"background-color:#509aed\"> Request </small>'\n\n                }\n                else if (result.status === 1) {\n                    status = '<small class=\"label label-warning\" style=\"background-color:#b33ce0\"> Check By </small>'\n                }\n                else if (result.status === 2) {\n                    status = '<small class=\"label label-warning\" style=\"background-color:#f2a509\"> Approve By </small>'\n                }\n                else if (result.status === 3) {\n                    status = '<small class=\"label label-warning\" style=\"background-color:#29a50a\"> Verify By </small>'\n                }\n                else if (result.status === 4) {\n\n                    status = '<small class=\"label label-warning\" style=\"background-color:#f60e2f\"> Reject By </small>'\n                }\n                if (result.status === 0 || result.status === 4) {\n                    obj = {\n                        no: i + 1,\n                        form_no: data[i].form_no,\n                        employee_name: data[i].employee_name,\n                        training_type: data[i].training_type,\n                        available_amount: data[i].available_amount,\n                        date_of_training: data[i].date_of_training,\n                        training_period: data[i].training_period,\n                        amount: data[i].amount,\n                        training_purpose: data[i].training_purpose,\n                        attachment: data[i].attachment,\n                        status: status,\n                        action:\n                            '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toView\" ><span id=\"view\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;View</button>' +\n                            '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toEdit\" ><span id=\"edit\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Edit</button>'\n                    }\n\n                }\n                else {\n                    obj = {\n                        no: i + 1,\n                        form_no: data[i].form_no,\n                        employee_name: data[i].employee_name,\n                        training_type: data[i].training_type,\n                        available_amount: data[i].available_amount,\n                        date_of_training: data[i].date_of_training,\n                        training_period: data[i].training_period,\n                        amount: data[i].amount,\n                        training_purpose: data[i].training_purpose,\n                        attachment: data[i].attachment,\n                        status: status,\n                        action:\n                            '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toView\" ><span id=\"view\" class=\"hidden\" >' + JSON.stringify(result) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;View</button>'\n\n                    }\n\n                }\n\n\n                l.push(obj)\n\n            }\n            this.setState({\n                dataSource: l,\n\n            });\n\n\n            table = $(\"#dataTables-table\").DataTable({\n\n                autofill: true,\n                bLengthChange: false,\n                bInfo: false,\n                responsive: true,\n                paging: true,\n                // buttons: true,\n                dom: 'Bfrtip',\n                buttons: [\n                    'copy', 'csv', 'excel', 'pdf'\n                ],\n\n                data: l,\n                columns: [\n                    { title: \"No\", data: \"no\" },\n                    { title: \"Employee Name\", data: \"employeeName\" },\n                    { title: \"Training Type\", data: \"training_type\" },\n                    { title: \"Available Amount\", data: \"available_amount\" },\n                    { title: \"Date of Training\", data: \"date_of_training\" },\n                    { title: \"Training Period\", data: \"training_period\" },\n                    { title: \"Amount\", data: \"amount\" },\n                    { title: \"Training Purpose\", data: \"training_purpose\" },\n                    { title: \"Attachment\", data: \"attachment\" },\n                    { title: \"Status\", data: \"status\" },\n                    { title: \"Action\", data: \"action\" }\n                ],\n            });\n        }\n\n        else {\n\n            table = $(\"#dataTables-table\").DataTable({\n                autofill: true,\n                bLengthChange: false,\n                bInfo: true,\n                responsive: true,\n                paging: true,\n                dom: 'Bfrtip',\n                buttons: [\n                    'copy', 'csv', 'excel', 'pdf'\n                ],\n                data: l,\n\n                columns: [\n                    { title: \"Employee Name\", data: \"employeeName\" },\n                    { title: \"Training Type\", data: \"training_type\" },\n                    { title: \"Available Amount\", data: \"available_amount\" },\n                    { title: \"Date of Training\", data: \"date_of_training\" },\n                    { title: \"Training Period\", data: \"training_period\" },\n                    { title: \"Amount\", data: \"amount\" },\n                    { title: \"Training Purpose\", data: \"training_purpose\" },\n                    { title: \"Attachment\", data: \"attachment\" },\n                    { title: \"Status\", data: \"status\" },\n                    { title: \"Action\", data: \"action\" }\n                ],\n\n            });\n        }\n    }\n\n\n    render() {\n        return (\n\n            <div>\n                <h3 className=\"col-md-12\">Wedding Benefit Table</h3>\n                <table width=\"99%\"\n                       className=\"table table-striped table-bordered table-hover table-responsive nowrap dt-responsive\"\n                       id=\"dataTables-table\"\n                />\n            </div >\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}